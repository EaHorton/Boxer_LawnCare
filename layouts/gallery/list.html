{{ define "main" }}
<div class="container mt-4">
    <div class="card border-0 shadow-sm">
        <div class="card-body">
            <h2 class="section-title mb-4">Our Work</h2>
            <div class="row g-4">
                {{/* List images from customer_photos directory */}}
                {{ $files := readDir "static/images/customer_photos" }}
                {{ if $files }}
                    {{ range $i, $f := $files }}
                        {{ $ext := path.Ext $f.Name }}
                        {{ if and (not $f.IsDir) (or (eq (lower $ext) ".jpg") (eq (lower $ext) ".jpeg") (eq (lower $ext) ".png")) }}
                        <div class="col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-hover">
                                <div class="card-body p-0">
                                    <img src="/images/customer_photos/{{ $f.Name }}" 
                                         class="img-fluid w-100 h-100 object-fit-cover" 
                                         alt="Lawn Care Work Example"
                                         style="border-radius: 8px; min-height: 250px; max-height: 350px;"
                                         loading="lazy">
                                </div>
                            </div>
                        </div>
                        {{ end }}
                    {{ end }}
                {{ else }}
                    <div class="col-12">
                        <p class="text-center text-muted">No photos available</p>
                    </div>
                {{ end }}
            </div>
        </div>
    </div>
</div>
{{ end }}
