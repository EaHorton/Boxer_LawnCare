{{- $path := .path -}}
{{- if not (hasPrefix $path "http") -}}
  {{- if hasPrefix $path "/" -}}
    {{- $path = (print .Site.BaseURL (strings.TrimPrefix "/" $path)) -}}
  {{- else -}}
    {{- $path = (print .Site.BaseURL $path) -}}
  {{- end -}}
{{- end -}}
<img src="{{ $path }}" {{ with .alt }}alt="{{ . }}"{{ end }} {{ with .class }}class="{{ . }}"{{ end }} {{ with .style }}style="{{ . }}"{{ end }}>